<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Code Viewer</title>
    <link href="/themes/prism.css" rel="stylesheet" />
  </head>
  <body>
    <pre><code id="code-content" class="language-python"></code></pre>
    <script src="/assets/prism.js"></script>

    <script>
      // Extract the filename from the URL query parameters
      const urlParams = new URLSearchParams(window.location.search);
      const filename = urlParams.get("file");
      console.log("Filename:", filename);

      // Assuming the files are stored in a 'code' directory. Modify as needed.
      fetch(`code/${filename}`)
        .then((response) => response.text())
        .then((text) => {
          document.getElementById("code-content").textContent = text;
          Prism.highlightAll();
        })
        .catch((error) => console.error("Error loading the file:", error));
    </script>
  </body>
</html>
